(this["webpackJsonpweather-app-ui"]=this["webpackJsonpweather-app-ui"]||[]).push([[0],{132:function(e,t,a){e.exports=a(228)},137:function(e,t,a){},143:function(e,t,a){e.exports=a.p+"static/media/day.539254f2.svg"},144:function(e,t,a){e.exports=a.p+"static/media/night.5ff33f37.svg"},199:function(e,t,a){var n={"./cloudy-day-1.svg":200,"./cloudy-day-2.svg":201,"./cloudy-day-3.svg":202,"./cloudy-night-1.svg":203,"./cloudy-night-2.svg":204,"./cloudy-night-3.svg":205,"./cloudy.svg":206,"./day.svg":207,"./night.svg":208,"./rainy-1.svg":209,"./rainy-2.svg":210,"./rainy-3.svg":211,"./rainy-4.svg":212,"./rainy-5.svg":213,"./rainy-6.svg":214,"./rainy-7.svg":215,"./snowy-1.svg":216,"./snowy-2.svg":217,"./snowy-3.svg":218,"./snowy-4.svg":219,"./snowy-5.svg":220,"./snowy-6.svg":221,"./thunder.svg":222,"./weather-sprite.svg":223,"./weather.svg":224,"./weather_sagittarius.svg":225,"./weather_sunset.svg":226};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=199},200:function(e,t,a){e.exports=a.p+"static/media/cloudy-day-1.80a5d865.svg"},201:function(e,t,a){e.exports=a.p+"static/media/cloudy-day-2.b931d84d.svg"},202:function(e,t,a){e.exports=a.p+"static/media/cloudy-day-3.109368f6.svg"},203:function(e,t,a){e.exports=a.p+"static/media/cloudy-night-1.7e65840b.svg"},204:function(e,t,a){e.exports=a.p+"static/media/cloudy-night-2.ef1c6aa1.svg"},205:function(e,t,a){e.exports=a.p+"static/media/cloudy-night-3.bf91ac0f.svg"},206:function(e,t,a){e.exports=a.p+"static/media/cloudy.ad789581.svg"},207:function(e,t,a){e.exports=a.p+"static/media/day.7f93fbdb.svg"},208:function(e,t,a){e.exports=a.p+"static/media/night.a3f3f38d.svg"},209:function(e,t,a){e.exports=a.p+"static/media/rainy-1.f134a51c.svg"},210:function(e,t,a){e.exports=a.p+"static/media/rainy-2.35eb268d.svg"},211:function(e,t,a){e.exports=a.p+"static/media/rainy-3.c17e7a5d.svg"},212:function(e,t,a){e.exports=a.p+"static/media/rainy-4.c8cdb216.svg"},213:function(e,t,a){e.exports=a.p+"static/media/rainy-5.2bd23641.svg"},214:function(e,t,a){e.exports=a.p+"static/media/rainy-6.d235ab65.svg"},215:function(e,t,a){e.exports=a.p+"static/media/rainy-7.c915395f.svg"},216:function(e,t,a){e.exports=a.p+"static/media/snowy-1.f78cba60.svg"},217:function(e,t,a){e.exports=a.p+"static/media/snowy-2.d103c77c.svg"},218:function(e,t,a){e.exports=a.p+"static/media/snowy-3.b6eea2cf.svg"},219:function(e,t,a){e.exports=a.p+"static/media/snowy-4.474b6da7.svg"},220:function(e,t,a){e.exports=a.p+"static/media/snowy-5.3def7c9f.svg"},221:function(e,t,a){e.exports=a.p+"static/media/snowy-6.67d63a14.svg"},222:function(e,t,a){e.exports=a.p+"static/media/thunder.7142c78b.svg"},223:function(e,t,a){e.exports=a.p+"static/media/weather-sprite.2738019d.svg"},224:function(e,t,a){e.exports=a.p+"static/media/weather.56c46d80.svg"},225:function(e,t,a){e.exports=a.p+"static/media/weather_sagittarius.166882bc.svg"},226:function(e,t,a){e.exports=a.p+"static/media/weather_sunset.cf01f54e.svg"},227:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),o=(a(137),a(70)),s=a(11),u=a(37),l=a(54),d=a(130),m=a(26),h={favourites:[]},v=function(e){return{type:"UPDATE_CURRENT",payload:{locationObj:e}}},p={currentLocation:{},theme:"light",tempUnit:"C"},f=Object(l.combineReducers)({Favourites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FAVOURITE":var a=t.payload.newFavourite;return Object(m.a)(Object(m.a)({},e),{},{favourites:[].concat(Object(d.a)(e.favourites),[a])});case"REMOVE_FAVOURITE":var n=t.payload.deletedFavouriteID;return Object(m.a)(Object(m.a)({},e),{},{favourites:e.favourites.filter((function(e){return e.id!==n}))});default:return e}},Preferences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CURRENT":var a=t.payload.locationObj;return Object(m.a)(Object(m.a)({},e),{},{currentLocation:a});case"TOGGLE_THEME":var n=e.theme,r="light"===n?"dark":"light";return console.log("newTheme",r),Object(m.a)(Object(m.a)({},e),{},{theme:r});default:return e}}}),y=a(112),g=a(73),w=function(){try{var e=localStorage.getItem("state");return null===e?{}:JSON.parse(e)}catch(t){return}}(),b=Object(l.createStore)(f,w.state,Object(y.composeWithDevTools)());b.subscribe(Object(g.throttle)((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}({state:b.getState()})}),1e3));var E=b,O=a(95),x=a(233);a(143),a(144);var j=Object(u.b)((function(e){return{theme:e.Preferences.theme}}),{toggleTheme:function(){return{type:"TOGGLE_THEME"}}})((function(e){var t=e.toggleTheme,a=e.theme;return r.a.createElement("div",{className:"header-container ".concat(a)},r.a.createElement("div",{className:"header-menu"},r.a.createElement("div",{className:"menu-container"},r.a.createElement(o.b,{to:"/home",activeClassName:"selected"},r.a.createElement(O.a,null,"Home")),r.a.createElement(o.b,{to:"/favourites",activeClassName:"selected"},r.a.createElement(O.a,null,"Favourites")))),r.a.createElement("div",{className:"header-title"},"Jonathan's Weather App"),r.a.createElement("div",{className:"header-modetoggle"},r.a.createElement(x.a,{checkedChildren:"Light",unCheckedChildren:"Dark",onChange:t,checked:"light"===a})))})),C=a(20),D=a.n(C),T=a(46),k=a(48),N=a(230),U=a(231),I=a(85),L=a.n(I),P=a(232),M="VlbDqUWC7TBfuUqAAKJTcQc9EFAJytm5",F="https://cors-anywhere.herokuapp.com/";function S(e){return A.apply(this,arguments)}function A(){return(A=Object(T.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://dataservice.accuweather.com/locations/v1/cities/autocomplete",e.prev=1,e.next=4,L.a.get("".concat(F).concat("http://dataservice.accuweather.com/locations/v1/cities/autocomplete","?apikey=").concat(M,"&q=").concat(t));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),P.b.error("Unable to autocomplete.");case 11:case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function V(e){return H.apply(this,arguments)}function H(){return(H=Object(T.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://dataservice.accuweather.com/currentconditions/v1/",e.prev=1,e.next=4,L.a.get("".concat(F).concat("http://dataservice.accuweather.com/currentconditions/v1/").concat(t,"?apikey=").concat(M));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),P.b.error("Unable to get current weather conditions.");case 11:case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var _=Object(u.b)((function(e){return{}}),{updateCurrentLocation:v})((function(e){var t=e.updateCurrentLocation,a=Object(n.useState)(""),c=Object(k.a)(a,2),i=c[0],o=c[1],s=Object(n.useState)([]),u=Object(k.a)(s,2),l=u[0],d=u[1],m=Object(n.useState)([]),h=Object(k.a)(m,2),v=h[0],p=h[1],f=function(){var e=Object(T.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:a=e.sent,console.log("result",a),a&&d(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p(l.map((function(e){return{value:e.LocalizedName,label:"".concat(e.LocalizedName,", ").concat(e.Country.LocalizedName)}})))}),[l]),r.a.createElement("div",{className:"search-container"},r.a.createElement(N.a,{dropdownClassName:"search-dropdown",dropdownMatchSelectWidth:500,value:i,options:v,onSearch:f,onSelect:function(e){console.log("value",e);var a=l.find((function(e){return e.LocalizedName})).Key;o(e),t({id:a,name:e})},onChange:function(e){o(e)},className:"search-bar"},r.a.createElement(U.a.Search,{size:"large",placeholder:"search"})))})),W=a(234),R=a(235),q=["sun","mon","tue","wed","thu","fri","sat"];function J(e){var t=new Date(1e3*e);return q[t.getDay()]}var z=[{id:1,name:"day"},{id:2,name:"cloudy-day-1"},{id:3,name:"cloudy-day-2"},{id:4,name:"cloudy-day-3"},{id:5,name:"cloudy-day-3"},{id:6,name:"cloudy-day-3"},{id:7,name:"cloudy"},{id:8,name:"cloudy"},{id:11,name:"cloudy"},{id:12,name:"rainy-1"},{id:13,name:"rainy-1"},{id:14,name:"rainy-1"},{id:15,name:"rainy-1"},{id:16,name:"rainy-1"},{id:17,name:"rainy-1"},{id:18,name:"rainy-1"},{id:19,name:"rainy-1"},{id:20,name:"rainy-1"},{id:21,name:"rainy-1"},{id:22,name:"snowy-1"},{id:23,name:"snowy-1"},{id:24,name:"snowy-1"},{id:25,name:"snowy-1"},{id:26,name:"snowy-1"},{id:29,name:"snowy-1"},{id:30,name:"day"},{id:31,name:"rainy-7"},{id:32,name:"cloudy"},{id:33,name:"night"},{id:34,name:"night"},{id:35,name:"night"},{id:36,name:"night"},{id:37,name:"night"},{id:38,name:"night"},{id:39,name:"night"},{id:40,name:"night"},{id:41,name:"night"},{id:42,name:"night"},{id:43,name:"night"},{id:44,name:"night"}];function G(e){var t=z.find((function(t){return t.id===e})).name;return a(199)("./".concat(t,".svg"))}var B=function(e){var t=e.weatherData;return r.a.createElement("div",{className:"marquee"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"marquee-icon",src:G(t.Icon)}),r.a.createElement("div",{className:"marquee-text"},t.IconPhrase)):r.a.createElement(W.a,{className:"marquee-loader"}))};var K=function(e){var t=e.header,a=e.temperature,n=e.icon,c=(e.text,e.isLoading),i=e.id,o=e.isClickable;return r.a.createElement("div",{className:"card-container ".concat(o?"clickable":""),value:i&&i},c?r.a.createElement(W.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t),r.a.createElement("div",null,a," C\xb0"),r.a.createElement("div",null,n&&r.a.createElement("img",{src:G(n)}))))};var Q=function(e){var t=e.cardData,a=e.isClickable,n=e.onCardClick;return r.a.createElement("div",{className:"spreadout"},t?t.map((function(e,t){return r.a.createElement(K,{key:e.id?e.id:"fav"+t,header:e.header,temperature:e.temperature,icon:e.icon,id:e.id,isClickable:a,onCardClick:n})})):Object(g.range)(4).map((function(){return r.a.createElement(K,{isLoading:!0})})))},$={id:"215854",name:"Tel Aviv"},X={Headline:{EffectiveDate:"2020-09-26T08:00:00+03:00",EffectiveEpochDate:1601096400,Severity:4,Text:"Pleasant this weekend",Category:"mild",EndDate:null,EndEpochDate:null,MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/extended-weather-forecast/215854?unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?unit=c&lang=en-us"},DailyForecasts:[{Date:"2020-09-23T07:00:00+03:00",EpochDate:1600833600,Temperature:{Minimum:{Value:24.4,Unit:"C",UnitType:17},Maximum:{Value:30.5,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:35,IconPhrase:"Partly cloudy",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=1&unit=c&lang=en-us"},{Date:"2020-09-24T07:00:00+03:00",EpochDate:160092e4,Temperature:{Minimum:{Value:23.8,Unit:"C",UnitType:17},Maximum:{Value:29.8,Unit:"C",UnitType:17}},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=2&unit=c&lang=en-us"},{Date:"2020-09-25T07:00:00+03:00",EpochDate:1601006400,Temperature:{Minimum:{Value:25.1,Unit:"C",UnitType:17},Maximum:{Value:30.3,Unit:"C",UnitType:17}},Day:{Icon:3,IconPhrase:"Partly sunny",HasPrecipitation:!1},Night:{Icon:34,IconPhrase:"Mostly clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=3&unit=c&lang=en-us"},{Date:"2020-09-26T07:00:00+03:00",EpochDate:1601092800,Temperature:{Minimum:{Value:23.9,Unit:"C",UnitType:17},Maximum:{Value:29.9,Unit:"C",UnitType:17}},Day:{Icon:2,IconPhrase:"Mostly sunny",HasPrecipitation:!1},Night:{Icon:33,IconPhrase:"Clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=4&unit=c&lang=en-us"},{Date:"2020-09-27T07:00:00+03:00",EpochDate:1601179200,Temperature:{Minimum:{Value:24.7,Unit:"C",UnitType:17},Maximum:{Value:30.5,Unit:"C",UnitType:17}},Day:{Icon:1,IconPhrase:"Sunny",HasPrecipitation:!1},Night:{Icon:33,IconPhrase:"Clear",HasPrecipitation:!1},Sources:["AccuWeather"],MobileLink:"http://m.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=5&unit=c&lang=en-us",Link:"http://www.accuweather.com/en/il/tel-aviv/215854/daily-weather-forecast/215854?day=5&unit=c&lang=en-us"}]};var Y=Object(u.b)((function(e){return Object(m.a)(Object(m.a)({},e.Favourites),{},{currentLocation:e.Preferences.currentLocation})}),{addFavourite:function(e){return{type:"ADD_FAVOURITE",payload:{newFavourite:e}}},removeFavourite:function(e){return{type:"REMOVE_FAVOURITE",payload:{deletedFavouriteID:e}}},updateCurrentLocation:v})((function(e){var t,a=e.currentLocation,c=e.updateCurrentLocation,i=e.addFavourite,o=e.removeFavourite,s=e.favourites,u=Object(n.useState)([]),l=Object(k.a)(u,2),d=l[0],m=l[1],h=Object(n.useState)(!1),v=Object(k.a)(h,2),p=v[0],f=v[1],y=function(){var e=Object(T.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(a=X,console.log("weather",a),m(a.DailyForecasts));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(n.useCallback)((function(){var e;e=a.id,p?(o(e),f(!1)):s.length<5?(i(a),f(!0)):P.b.error("maximum of 5 favourites allowed")}));return Object(n.useEffect)((function(){a.hasOwnProperty("id")?y(a.id):c($)}),[a]),Object(n.useEffect)((function(){if(s.length>0&&a.id){var e=s.findIndex((function(e){return e.id===a.id}));f(e>=0)}else f(!1)}),[s,a]),r.a.createElement("div",{className:"weather-container"},r.a.createElement("div",{className:"weather-top"},r.a.createElement("div",{className:"weather-top-left"},a.name,r.a.createElement("br",null),d.length>0?"".concat(d[0].Temperature.Maximum.Value," C\xb0"):r.a.createElement(W.a,null)),r.a.createElement("div",{className:"weather-top-right"},r.a.createElement(R.a,{className:"favourite-icon",onClick:g,twoToneColor:p?"#eb2f96":"#D3D3D3"}),r.a.createElement(O.a,{className:"favourite-btn",onClick:g},p?"Remove from Favourites":"Add to Favourites"))),r.a.createElement("div",{className:"weather-middle"},r.a.createElement(B,{weatherData:d.length>0?d[0].Day:null})),r.a.createElement("div",{className:"weather-bottom"},r.a.createElement(Q,{cardData:d.length>0?(t=d,t.map((function(e){return{header:J(e.EpochDate),temperature:e.Temperature.Maximum.Value,icon:e.Day.Icon}}))):null})))}));var Z=Object(u.b)((function(e){return{theme:e.Preferences.theme}}),{})((function(e){return e.theme,r.a.createElement("div",{className:"home-container"},r.a.createElement(_,null),r.a.createElement(Y,null))}));var ee=Object(u.b)((function(e){return Object(m.a)({},e.Favourites)}),{updateCurrentLocation:v})((function(e){var t=e.favourites,a=(e.updateCurrentLocation,Object(n.useState)([])),c=Object(k.a)(a,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){var e;t.length>0&&(e=t,Promise.all(e.map(function(){var e=Object(T.a)(D.a.mark((function e(t){var a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t.id);case 2:return a=e.sent,n={id:t.id,header:t.name,temperature:a[0].Temperature.Metric.Value,icon:a[0].WeatherIcon,text:a[0].WeatherText},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){console.log("test result",e),o(e)})))}),[t]),r.a.createElement("div",{className:"favourites-body"},r.a.createElement("div",{className:"favourites-container"},r.a.createElement(Q,{cardData:i.length>0&&i,isLoading:0===i.length,isClickable:!0})))}));a(227);var te=function(){return r.a.createElement(u.a,{store:E},r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(j,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/home"},r.a.createElement(Z,null)),r.a.createElement(s.b,{path:"/favourites"},r.a.createElement(ee,null)),r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(s.a,{strict:!0,to:"/home"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.1e13d59e.chunk.js.map